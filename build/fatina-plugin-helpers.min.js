!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("FatinaPluginHelpers",[],n):"object"==typeof exports?exports.FatinaPluginHelpers=n():t.FatinaPluginHelpers=n()}("undefined"!=typeof self?self:this,function(){return function(t){var n={};function o(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=t,o.c=n,o.d=function(t,n,e){o.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:e})},o.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},o.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(n,"a",n),n},o.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},o.p="",o(o.s=0)}([function(t,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.get=function(){return new e};class e{constructor(){this.name="fatina-plugin-helpers",this.initialized=!1}init(t){if(this.initialized)throw new Error("Try to init the plugin twice : "+name);if(void 0===t||null===t||null===t.plugin)throw new Error("Try to init the plugin without fatina : "+name);this.fatina=t,this.initialized=!0,t.plugin.addHelpers=this.addHelpers.bind(this)}addHelpers(t){t.position&&function(t,n){n.moveTo=function(n,o,e,r){const i=t.tween(this.position,["x","y"]).to({x:n,y:o},e);return!1===r?i:i.start()},n.moveToRel=function(t,n,o,e){const r=this.moveTo(t,n,o,!1).setRelative(!0);return!1===e?r:r.start()},n.moveXTo=function(n,o,e){const r=t.tween(this.position,["x"]).to({x:n},o);return!1===e?r:r.start()},n.moveXToRel=function(t,n,o){const e=this.moveXTo(t,n,!1).setRelative(!0);return!1===o?e:e.start()},n.moveYTo=function(n,o,e){const r=t.tween(this.position,["y"]).to({y:n},o);return!1===e?r:r.start()},n.moveYToRel=function(t,n,o){const e=this.moveYTo(t,n,!1).setRelative(!0);return!1===o?e:e.start()},n.punchPosition=function(n,o,e,r,i){e=e||60,r=r||5;const s=this.position.x,a=this.position.y,c=t.sequence();for(let t=0;t<r;t++){const i=t%2==0?1:-1,u=s+i*n/(t+1),l=a+i*o/(t+1),f=e/2/r;c.append(this.moveTo(u,l,f,!1).yoyo(1))}return!1===i?c:c.start()},n.shake=function(n,o,e,r,i){e=e||60,r=r||5;const s=this.position.x,a=this.position.y,c=t.sequence();for(let t=0;t<r;t++){const t=s+(Math.random()*n*2-n),i=a+(Math.random()*o*2-o),u=e/2/r;c.append(this.moveTo(t,i,u,!1).yoyo(1))}return!1===i?c:c.start()}}(this.fatina,t),(t.rotation||0===t.rotation)&&function(t,n){n.rotateTo=function(n,o,e){const r=t.tween(this,["rotation"]).to({rotation:n},o);return!1===e?r:r.start()},n.rotateToRel=function(t,n,o){const e=this.rotateTo(t,n,!1).setRelative(!0);return!1===o?e:e.start()},n.rotateDegTo=function(n,o,e){n=function(t){return t*Math.PI/180}(n);const r=t.tween(this,["rotation"]).to({rotation:n},o);return!1===e?r:r.start()},n.rotateDegToRel=function(t,n,o){const e=this.rotateDegTo(t,n,!1).setRelative(!0);return!1===o?e:e.start()},n.punchRotate=function(n,o,e,r){o=o||60,e=e||5;const i=this.rotation,s=t.sequence();for(let t=0;t<e;t++){const r=t%2==0?1:-1,a=i+r*n/(t+1),c=o/2/e;s.append(this.rotateTo(a,c,!1).yoyo(1))}return!1===r?s:s.start()}}(this.fatina,t),(t.alpha||0===t.alpha||void 0!==t.hue&&t.hue.hasOwnProperty("a"))&&function(t,n){n.fadeTo=function(n,o,e){const r=t.tween(this,["alpha"]).to({alpha:n},o);return!1===e?r:r.start()}}(this.fatina,t),t.scale&&function(t,n){n.scaleTo=function(n,o,e,r){const i=t.tween(this.scale,["x","y"]).to({x:n,y:o},e);return!1===r?i:i.start()},n.scaleToRel=function(t,n,o,e){const r=this.scaleTo(t,n,o,!1).setRelative(!0);return!1===e?r:r.start()},n.scaleXTo=function(n,o,e){const r=t.tween(this.scale,["x"]).to({x:n},o);return!1===e?r:r.start()},n.scaleXToRel=function(t,n,o){const e=this.scaleXTo(t,n,!1).setRelative(!0);return!1===o?e:e.start()},n.scaleYTo=function(n,o,e){const r=t.tween(this.scale,["y"]).to({y:n},o);return!1===e?r:r.start()},n.scaleYToRel=function(t,n,o){const e=this.scaleYTo(t,n,!1).setRelative(!0);return!1===o?e:e.start()},n.punchScale=function(n,o,e,r,i){e=e||60,r=r||5;const s=this.scale.x,a=this.scale.y,c=t.sequence();for(let t=0;t<r;t++){const i=t%2==0?1:-1,u=s+i*n/(t+1),l=a+i*o/(t+1),f=e/2/r;c.append(this.scaleTo(u,l,f,!1).yoyo(1))}return!1===i?c:c.start()}}(this.fatina,t),t.hue?function(t,n){n.colorTo=function(n,o,e,r,i){const s=t.tween(this.hue,["r","g","b"]).to({r:n,g:o,b:e},r);return!1===i?s:s.start()},n.colorToRel=function(t,n,o,e,r){const i=this.colorTo(t,n,o,e,!1).setRelative(!0);return!1===r?i:i.start()},n.colorRGBTo=function(n,o,e){const i=r(n),s=t.tween(this.hue,["r","g","b"]).to({r:i.r,g:i.g,b:i.b},o);return!1===e?s:s.start()},n.colorRGBToRel=function(t,n,o){const e=this.colorRGBTo(t,n,!1).setRelative(!0);return!1===o?e:e.start()},n.punchColor=function(n,o,e,r,i,s){r=r||60,i=i||5;const a=this.hue.r,c=this.hue.g,u=this.hue.b,l=t.sequence();for(let t=0;t<i;t++){const s=t%2==0?1:-1,f=a+s*n/(t+1),h=c+s*o/(t+1),p=u+s*e/(t+1),T=r/2/i;l.append(this.colorTo(f,h,p,T,!1).yoyo(1))}return!1===s?l:l.start()}}(this.fatina,t):(t.tint||0===t.tint)&&function(t,n){n.colorTo=function(n,o,e,s,a){const c=r(this.tint.toString("16")),u=t.tween(c,["r","g","b"]).to({r:n,g:o,b:e},s).onUpdate(()=>this.tint=i(c));return!1===a?u:u.start()},n.colorToRel=function(t,n,o,e,r){const i=this.colorTo(t,n,o,e,!1).setRelative(!0);return!1===r?i:i.start()},n.colorRGBTo=function(n,o,e){const s=r(this.tint.toString("16")),a=r(n),c=t.tween(s,["r","g","b"]).to({r:a.r,g:a.g,b:a.b},o).onUpdate(()=>this.tint=i(s));return!1===e?c:c.start()},n.colorRGBToRel=function(t,n,o){const e=this.colorRGBTo(t,n,!1).setRelative(!0);return!1===o?e:e.start()},n.punchColor=function(n,o,e,i,s,a){i=i||60,s=s||5;const c=r(this.tint.toString("16")),u=t.sequence();for(let t=0;t<s;t++){const r=t%2==0?1:-1,a=c.r+r*n/(t+1),l=c.g+r*o/(t+1),f=c.b+r*e/(t+1),h=i/2/s;u.append(this.colorTo(a,l,f,h,!1).yoyo(1))}return!1===a?u:u.start()}}(this.fatina,t)}}function r(t){for("#"===t.charAt(0)?t=t.substr(1):0===t.indexOf("0x")&&(t=t.substr(2)),8===t.length&&(t=t.substr(2));t.length<6;)t="0"+t;return{r:parseInt(t.substr(0,2),16)/255,g:parseInt(t.substr(2,2),16)/255,b:parseInt(t.substr(4,2),16)/255}}function i(t){if(!t)return 0;return 256*s(t.r)*256+256*s(t.g)+s(t.b)}function s(t){return Math.max(0,Math.min(255,Math.floor(255*t)))}}])});